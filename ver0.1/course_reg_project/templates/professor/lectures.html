{% extends "base.html" %}

{% block title %}내 담당 교과목 | 수강신청 시스템{% endblock %}

{% block content %}
<div style="max-width: 900px; margin: 0 auto; padding: 40px 0;">

  <a href="{{ url_for('prof_dashboard') }}"
     style="display:flex; align-items:center; gap:6px; color:#555; margin-bottom:20px; text-decoration:none;">
    <span style="font-size:18px;">←</span>
    <span style="font-size:14px;">대시보드로</span>
  </a>

  <h1 style="font-size:24px; font-weight:700; margin:0 0 8px 0;">
    내 담당 교과목
  </h1>
  <p style="color:#888; margin-bottom:18px;">
    {{ prof.name }} 교수님의 이번 학기 담당 강의 목록입니다.
  </p>

  <!-- 요약 카드 -->
  <div style="
      background:white;
      padding:18px 20px;
      border-radius:14px;
      box-shadow:0 4px 20px rgba(0,0,0,0.05);
      display:flex;
      gap:20px;
      margin-bottom:22px;
      font-size:13px;
      color:#444;
  ">
    <div>
      <div style="color:#999; font-size:12px;">담당 강의 수</div>
      <div style="font-size:18px; font-weight:700;">{{ summary.lecture_count }}개</div>
    </div>
    <div>
      <div style="color:#999; font-size:12px;">사용 강의실 수</div>
      <div style="font-size:18px; font-weight:700;">{{ summary.room_count }}개</div>
    </div>
    <div>
      <div style="color:#999; font-size:12px;">개설 건물 수</div>
      <div style="font-size:18px; font-weight:700;">{{ summary.building_count }}개</div>
    </div>
  </div>

  <!-- 목록 카드 -->
  <div style="
      background:white;
      padding:20px;
      border-radius:18px;
      box-shadow:0 6px 30px rgba(0,0,0,0.06);
  ">
    {% if lectures %}
      <table style="width:100%; border-collapse:collapse; font-size:13px;">
        <thead>
          <tr style="border-bottom:2px solid #eee; text-align:left;">
            <th style="padding:10px 4px;">과목ID</th>
            <th style="padding:10px 4px;">과목명</th>
            <th style="padding:10px 4px;">강의ID</th>
            <th style="padding:10px 4px;">요일/교시</th>
            <th style="padding:10px 4px;">건물 / 강의실</th>
            <th style="padding:10px 4px;">과정</th>
            <th style="padding:10px 4px;">신청학생</th>
          </tr>
        </thead>
        <tbody>
          {% for l in lectures %}
          <tr style="border-bottom:1px solid #f5f5f5;">
            <td style="padding:8px 4px;">{{ l.course_id }}</td>
            <td style="padding:8px 4px;">{{ l.course_name }}</td>
            <td style="padding:8px 4px;">{{ l.lecture_id }}</td>
            <td style="padding:8px 4px;">{{ l.day_of_week }} {{ l.start_period }}~{{ l.end_period }}교시</td>
            <td style="padding:8px 4px;">
              {{ l.building }}<br>
              {{ l.room_id }} / <span style="font-size:11px; color:#777;">{{ l.room_name }}</span>
            </td>
            <td style="padding:8px 4px;">{{ l.program_type }}</td>
            <td style="padding:8px 4px;">
              <a href="{{ url_for('prof_lecture_students', lecture_id=l.lecture_id) }}"
                 style="font-size:12px; color:#2d6cdf; text-decoration:none;">
                수강 학생 보기
              </a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <p style="font-size:13px; color:#777; margin:0;">
        담당 중인 강의가 없습니다.
      </p>
    {% endif %}
  </div>
</div>
{% endblock %}
