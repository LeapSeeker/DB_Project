프로젝트명: 통합 학사 행정 및 고성능 수강신청 시스템

-- 프로젝트 개요 --
- 본 프로젝트는 대학 구성원(학생, 교수, 교직원)을 위한 통합 웹 포털과 대규모 트래픽 처리에 최적화된 수강신청 엔진을 구축하는 것을 목표로 합니다.
- 단순한 데이터 관리를 넘어, Redis 기반의 비동기 대기열 처리를 통해 선착순 수강신청 시 발생할 수 있는 데이터 경합과 서버 부하 문제를 해결합니다.
- 특히 학년별 수강 제한, 타전공 기간제 오픈, 교시 기반 시간표 충돌 검사 등 실제 대학의 복잡한 행정 시나리오를 정밀하게 모델링하여 데이터 무결성과 정합성을 보장하는 엔터프라이즈급 설계를 지향합니다.

-- 사용자 역할 및 서비스 공간별 기능 정리 --

A. 학생 서비스 영역
학생은 학업 계획을 세우는 **학생 포털과** 실시간 수강 과목을 신청하는 **수강신청 시스템** 두 공간을 이용합니다.

1. 학생 포털 (Main Portal)

- 학생 이력 관리(대시보드)
    - 상단: 학적 및 기본 정보 요약 대시보드
    - 하단: 인적 사항 수정 폼(은행, 주소, 연락처 등)
- 학적 행위: 휴학 신청, 전과 신청
- 수강/시간표: 본인 시간표 조회(GUI), 교수별 시간표 조회, 강의 계획서 검색
- 성적/평가: 강의 평가 등록(미완료 시 성적 조회 불가 제약), 금학기/전체 성적 조회.

2. 수강 신청 시스템

- 강의 바구니 및 조회: 학년 필터링 적용
- 일반 신청/취소: 개별 과목 단위 처리
- 원자적 수강 정정
    - 정정 버튼을 누르고 취소할 과목과 변경할 과목을 선택
    - 변경 과목 수강 신청 성공시 교체
    - 변경 과목 수강 신청 실패시 유지


B. 관계자(교수/교직원) 서비스 영역

교수와 교직원은 학사 관리 포털이라는 통합 공간에서 각자의 권한에 맞는 기능을 사용합니다.

[교수용 관리 페이지]

교수는 본인의 재직 상태(재직, 휴직, 퇴직)에 따라 권한이 제어되며, 다음과 같은 상세 메뉴를 가집니다.

1. 교수 대시보드
    - 교수 기본 정보: 교번, 성명, 소속 학과, 현재 학기 담당 강의 수 요약
    - 오늘의 강의 스케줄: 당일 진행되는 수업의 강의실 정보를 타임라인 형태로 표시
    - 주요 알림: 성적 입력 마감 임박 강의, 학생의 휴학/전과 신청에 따른 수강생 변동 알림.
2. 강의 및 수업 관리
    - 내 담당 교과목 조회: 개설된 강의 ID, 과목명, 과정, 분반 정보 조회
        - 강의실 스케줄 상세: 해당 강의가 진행되는 건물 및 강의실의 주간 전체 시간표 조회
         (타 강의와의 중복 확인용)
    - 강의계획서 및 자료 관리: 주차별 강의 계획서 등록/수정
        - 수업 자료 업로드 및 강의별 공지사항 게시판 운영
3. 학생 지도 및 출석 관리
    - 수강생 명단 관리: 강의별 실시간 수강 학생 목록 조회
        - 학생 학적 상태 모니터링: 수강생 중 휴학, 자퇴 등 변동 사항이 발생한 학생을 하이라이트 표시
    - 출석부 관리: 교시 시스템과 연계된 출석 기록 및 통계 확인
    - 평생지도학생 조회: 본인이 평생지도교수로 배정된 학생들의 기본 이력 및 상담 메모 기록
4. 성적 및 평가 관리
    - 성적 입력 및 정정: 재수강생 자동 필터링
    (학생의 수강 이력을 대조하여 재수강생일 경우 성적 입력 값을 최대 A0로 자동 제한)
        - 입력 기간 제어: 교직원이 설정한 성적 입력 기간에만 활성화
    - 강의평가 결과 조회: 학기 종료 후 학생들이 등록한 강의평가 결과 및 피드백 리포트 조회.

[교직원용 관리 페이지]

교직원은 전체 시스템의 파라미터를 설정하고, 데이터의 무결성을 유지하며, 예외 상황을 강제 조정하는 권한을 가집니다.

1. 학사 일정 및 운영 통제

시스템의 핵심 제약 조건들을 실시간으로 활성화/비활성화 합니다.

- 수강신청 스케줄러
    - 1차(자과 우선), 2차(타전공 허용) 신청 기간을 날짜 및 초 단위로 설정합니다.
    - 학년별 수강 신청 기능 일자를 분리하여 트래픽을 분산 제어합니다.
- 학기 프로세스 관리
    - 성적 입력 기간 및 성적 정정 기간의 시작과 종료를 통제합니다.
    - 강의평가 기간을 설정하여, 미참여 학생의 성적 조회를 시스템적으로 차단합니다.

2. 교과 및 강의 리소스 설계

강의가 개설되기 위한 물리적/논리적 기반을 조성합니다.

- 커리큘럼 마스터(Subject) 관리: 과목 코드, 과목명, 이수 구분(전필/전선/교양)을 정의합니다.
- 강의(Course) 및 분반 생성
    - 과목별 분반을 추가하고, 담당 교수와 강의실을 매칭합니다.
    - 물리적 제약 검증: 강의실 수용 인원 내에서 수강 정원을 설정하도록 강제합니다.
    - 시간표 충돌 방지: 동일 교수나 동일 강의실에 중복된 교시가 배정되지 않도록 검증합니다.

3. 계정 및 학적 라이프사이클 관리

학생과 교수의 데이터 상태 머신을 관리합니다.

- 종합 학적 행정
    - 학생의 휴학/복학/전과 신청을 검토하고 최종 승인하여 status 값을 변경합니다.
    - 신규 학생/교수 계정 생성 및 비밀번호 분실 시 초기화 권한을 가집니다.
- 대량 데이터 처리(Batch): 매 학기 종료 후 전체 학생 학년을 승급시키거나, 졸업 사정 로직을 실행합니다.

4. 수강신청 모니터링 및 예외 처리

실시간 상황에 대응하고 행정적 결정을 내립니다.

- 실시간 수강 현황: 과목별 신청 인원 및 잔여석 상태를 모니터링
- 폐강 및 분반 조정: 수강 인원 미달 과목에 대한 폐강 처리 및 해당 학생들에게 알림을 발송
- 강제 수강 입력: 행정적 사유(졸업 예정자 등)로 인해 정원 외 수강이 필요한 경우, 시스템적으로 수강 내역을 강제 삽입하는 예외 권한을 가집니다.

5. 통계 및 데이터 리포트

의사결정을 위한 데이터를 추출합니다.

- 학과별/학년별 수강률: 전체 학생 대비 수강신청 완료 인원 비율 분석
- 강의 평가 통계: 전체 강의의 평균 점수 및 정성적 피드백 요약


-- 전체 시스템 다이어그램 및 핵심 제약조건 --

학사 관리 및 수강신청 시스템 제약 조건 명세서

1. 수강신청 기본 제약

- 학점 이수 한도
    - 학생은 한 학기에 최소 12학점에서 최대 20학점까지 신청할 수 있다.
    - 학점 이월 규칙은 적용하지 않음
- 교시 기반 시간표 중복 방지
    - 모든 강의는 정해진 교시를 가집니다.
    - 학생이 신청하려는 강의의 교시와 하나라도 겹칠 경우 신청이 차단됩니다.
- 분반 및 동일 과목 제한
    - 동일한 과목 코드를 가진 강의는 여러 분반이 있더라도 단 하나의 분반만 신청할 수 있습니다.
- 재수강 제한
    - 이수한 과목의 성적이 $B^0$ 미만인 경우에만 재수강 신청이 가능하며, 재수강 시 취득 가능한 최종 성적은 $A^0$로 제한됩니다.

2. 학년 및 전공 접근 제약

- 상위 학년 수강 제한
    - 학생은 본인의 현재 학년보다 높은 학년의 대상 강의를 신청할 수 없습니다.
    - 단, 고학년이 저학년 대상 강의를 신청하는 것은 허용됩니다.
- 전공 기반 단계별 오픈
    - 1차 신청 기간: 해당 강의의 개설 전공 학생 및 복수 전공 학생만 신청 가능합니다.
    - 2차 신청 기간: 전공 제한이 해제되어 타과 학생도 잔여석이 있는 경우 신청이 가능합니다.

3. 강의실 및 정원 제약

- 강의실 수용량 준수
    - 모든 강의의 수강 정원은 배정된 강의실의 물리적 좌석 수를 초과하여 설정할 수 없습니다.
- 실시간 잔여석 검증
    - 수강 신청 시 Redis 카운터를 통해 실시간 정원을 체크하며, 정원이 초과된 경우 큐(Queue) 진입 전 단계에서 즉시 차단됩니다.
- 운영 제약
    - 수강신청이 시작된 이후에는 이미 신청한 인원보다 더 적은 수용량을 가진 강의실로 변경할 수 없습니다.

4. 시스템 무결성 및 동시성 제약

- 선입선출(FIFO) 대기열
    - 대규모 트래픽 발생 시 모든 신청 요청은 Redis Queue에 적재되어 순차적으로 
    처리됩니다.
- 중복 요청 방지
    - 동일한 학생이 짧은 시간 내에 같은 강의를 여러 번 클릭하더라도, 시스템은 단 한 번의 요청만 
    유효하게 처리합니다.
- 단일 세션 유지
    - 한 명의 학생이 여러 브라우저나 기기를 통해 중복 로그인하여 수강신청을 시도하는 행위를 차단합니다.

5. 학적 및 사이드 이펙트 제약

- 신분별 접근 통제
    - 휴학, 제적, 졸업 등 정상 재학 상태가 아닌 학생은 수강신청 서비스 이용이 불가능합니다.
- 연쇄 데이터 처리
    - 수강 취소 또는 폐강 시, 해당 강의와 연결된 출석부 데이터와 LMS 학습 그룹에서 해당 학생의 정보가 실시간으로 동기화되어 삭제되어야 합니다.